var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,r=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,i=(e,i)=>{for(var o in i||(i={}))n.call(i,o)&&r(e,o,i[o]);if(t)for(var o of t(i))a.call(i,o)&&r(e,o,i[o]);return e};import{S as o,i as s,s as l,e as h,J as c,c as d,d as u,b as p,D as g,E as m,K as f,L as y,k as v,a as $,n as w,M as x,f as b,N as E,O as A,P as k,Q as T,R as M,A as I,z as L,T as D,U as S,j as P,m as F,o as V,x as C,u as O,v as j,t as z,g as W,l as q,r as R,w as N,F as G,G as B,H,I as U,V as _,W as K,X,Y,Z as J,_ as Q,$ as Z}from"../chunks/vendor-228feb4c.js";function ee(e){let t,n,a,r,i,o,s,l,f,y,v,$,w,x,b,E,A,k,T,M,I,L,D,S,P,F,V,C;return document.title=t=e[0],{c(){n=h("meta"),a=h("meta"),r=h("meta"),i=h("meta"),o=h("meta"),s=h("meta"),l=h("meta"),f=h("meta"),y=h("meta"),v=h("meta"),$=h("meta"),w=h("meta"),x=h("meta"),E=h("meta"),A=h("meta"),k=h("meta"),T=h("meta"),M=h("meta"),I=h("meta"),L=h("meta"),D=h("meta"),S=h("meta"),F=h("meta"),V=h("link"),this.h()},l(e){const t=c('[data-svelte="svelte-1sdig2e"]',document.head);n=d(t,"META",{charset:!0}),a=d(t,"META",{name:!0,content:!0}),r=d(t,"META",{"http-equiv":!0,content:!0}),i=d(t,"META",{name:!0,content:!0}),o=d(t,"META",{name:!0,content:!0}),s=d(t,"META",{name:!0,content:!0}),l=d(t,"META",{property:!0,content:!0}),f=d(t,"META",{property:!0,content:!0}),y=d(t,"META",{property:!0,content:!0}),v=d(t,"META",{property:!0,content:!0}),$=d(t,"META",{property:!0,content:!0}),w=d(t,"META",{property:!0,content:!0}),x=d(t,"META",{property:!0,content:!0}),E=d(t,"META",{property:!0,content:!0}),A=d(t,"META",{property:!0,content:!0}),k=d(t,"META",{property:!0,content:!0}),T=d(t,"META",{name:!0,content:!0}),M=d(t,"META",{name:!0,content:!0}),I=d(t,"META",{name:!0,content:!0}),L=d(t,"META",{name:!0,content:!0}),D=d(t,"META",{name:!0,content:!0}),S=d(t,"META",{name:!0,content:!0}),F=d(t,"META",{name:!0,content:!0}),V=d(t,"LINK",{rel:!0,href:!0}),t.forEach(u),this.h()},h(){p(n,"charset","utf-8"),p(a,"name","viewport"),p(a,"content","width=device-width, initial-scale=1.0"),p(r,"http-equiv","Content-Type"),p(r,"content","text/html; charset=utf-8"),p(i,"name","description"),p(i,"content",e[1]),p(o,"name","author"),p(o,"content","The Pudding"),p(s,"name","news_keywords"),p(s,"content",""),p(l,"property","og:title"),p(l,"content",e[0]),p(f,"property","og:site_name"),p(f,"content","The Pudding"),p(y,"property","og:url"),p(y,"content",e[2]),p(v,"property","og:description"),p(v,"content",e[1]),p($,"property","og:type"),p($,"content","article"),p(w,"property","og:locale"),p(w,"content","en_US"),p(x,"property","og:image"),p(x,"content",b=e[2]+"/assets/social-facebook.jpg"),p(E,"property","og:image:type"),p(E,"content","image/jpeg"),p(A,"property","og:image:width"),p(A,"content","1200"),p(k,"property","og:image:height"),p(k,"content","600"),p(T,"name","twitter:card"),p(T,"content","summary_large_image"),p(M,"name","twitter:site"),p(M,"content","https://pudding.cool"),p(I,"name","twitter:creator"),p(I,"content","@puddingviz"),p(L,"name","twitter:title"),p(L,"content",e[0]),p(D,"name","twitter:description"),p(D,"content",e[1]),p(S,"name","twitter:image:src"),p(S,"content",P=e[2]+"/assets/social-twitter.jpg"),p(F,"name","robots"),p(F,"content","max-image-preview:large"),p(V,"rel","canonical"),p(V,"href",C=e[2]+"/")},m(e,t){g(document.head,n),g(document.head,a),g(document.head,r),g(document.head,i),g(document.head,o),g(document.head,s),g(document.head,l),g(document.head,f),g(document.head,y),g(document.head,v),g(document.head,$),g(document.head,w),g(document.head,x),g(document.head,E),g(document.head,A),g(document.head,k),g(document.head,T),g(document.head,M),g(document.head,I),g(document.head,L),g(document.head,D),g(document.head,S),g(document.head,F),g(document.head,V)},p(e,[n]){1&n&&t!==(t=e[0])&&(document.title=t),2&n&&p(i,"content",e[1]),1&n&&p(l,"content",e[0]),4&n&&p(y,"content",e[2]),2&n&&p(v,"content",e[1]),4&n&&b!==(b=e[2]+"/assets/social-facebook.jpg")&&p(x,"content",b),1&n&&p(L,"content",e[0]),2&n&&p(D,"content",e[1]),4&n&&P!==(P=e[2]+"/assets/social-twitter.jpg")&&p(S,"content",P),4&n&&C!==(C=e[2]+"/")&&p(V,"href",C)},i:m,o:m,d(e){u(n),u(a),u(r),u(i),u(o),u(s),u(l),u(f),u(y),u(v),u($),u(w),u(x),u(E),u(A),u(k),u(T),u(M),u(I),u(L),u(D),u(S),u(F),u(V)}}}function te(e,t,n){let{title:a="Title TK"}=t,{description:r="Description TK"}=t,{url:i="https://pudding.cool"}=t;return e.$$set=e=>{"title"in e&&n(0,a=e.title),"description"in e&&n(1,r=e.description),"url"in e&&n(2,i=e.url)},[a,r,i]}class ne extends o{constructor(e){super(),s(this,e,te,ee,l,{title:0,description:1,url:2})}}var ae=f({width:0,height:0},(e=>{const t=()=>e({width:window.innerWidth,height:window.innerHeight});return t(),window.addEventListener("resize",y(t,250)),()=>{window.removeEventListener("resize",t)}}));var re={"off-black":{value:"#282828"},"green-1":{value:"#79A695"},"green-2":{value:"#A5F2D5"},"blue-1":{value:"#586FA6"},"blue-2":{value:"#8DABF2"},red:{value:"#A64153"},"purple-0":{value:"#220619"},"purple-1":{value:"#390A29"},"purple-2":{value:"#440D31"},"purple-3":{value:"#591642"},"orange-1":{value:"#D96666"},"orange-2":{value:"#F29F80"},"tan-1":{value:"#F2C299"},"tan-2":{value:"#FEDEC3"},"tan-3":{value:"#FFF2E8"},"tan-4":{value:"#FFFAF5"},white:{value:"#fff"}};function ie(e){let t,n,a,r,i,o,s;return{c(){t=h("div"),n=v(),a=h("canvas"),this.h()},l(e){t=d(e,"DIV",{class:!0,style:!0}),$(t).forEach(u),n=w(e),a=d(e,"CANVAS",{style:!0,width:!0,height:!0,class:!0}),$(a).forEach(u),this.h()},h(){p(t,"class","overlay svelte-w4bu1k"),x(t,"width",e[3]+"px"),x(t,"height",e[2]+"px"),x(a,"width",e[3]+"px"),x(a,"height",e[2]+"px"),p(a,"width",e[0]),p(a,"height",e[1]),p(a,"class","svelte-w4bu1k")},m(r,l){b(r,t,l),b(r,n,l),b(r,a,l),e[10](a),i=!0,o||(s=E(t,"mousemove",e[5]),o=!0)},p(e,[n]){(!i||8&n)&&x(t,"width",e[3]+"px"),(!i||4&n)&&x(t,"height",e[2]+"px"),(!i||8&n)&&x(a,"width",e[3]+"px"),(!i||4&n)&&x(a,"height",e[2]+"px"),(!i||1&n)&&p(a,"width",e[0]),(!i||2&n)&&p(a,"height",e[1])},i(e){i||(A((()=>{r||(r=k(a,T,{},!0)),r.run(1)})),i=!0)},o(e){r||(r=k(a,T,{},!1)),r.run(0),i=!1},d(i){i&&u(t),i&&u(n),i&&u(a),e[10](null),i&&r&&r.end(),o=!1,s()}}}function oe(e,t,n){let a,r,i,o,s,l;M(e,ae,(e=>n(9,l=e)));let h,c,d,{step:u}=t,{size:p}=t,g=1,m=0;const f=(e,t)=>Math.random()*(t-e)+e,y=async()=>{c&&($(),b(),await D())};let v=[];const $=()=>{v=[];for(var e=0;e<s/p;e++)for(var t=0;t<o/p;t++)v.push([t*p,e*p,p-2,p-2,"#222",1])};let w=[],x=[re.red.value,re["green-1"].value,re["blue-1"].value,re["tan-1"].value,re["orange-1"].value];const b=()=>{w=[];for(var e=0;e<75;e++)w.push({x:o/2,y:s/2,alpha:0,color:x[e%5],vx:f(-3,3),vy:f(-3,3)})},E=()=>{k(),T(),a?requestAnimationFrame(E):A()},A=()=>{c.clearRect(0,0,o,s);for(var e=0,t=v.length;e<t;e++)c.globalAlpha=1,c.fillStyle=re["purple-1"].value,c.fillRect(v[e][0],v[e][1],v[e][2],v[e][3])},k=()=>{w[m].x=d.x,w[m].y=d.y,w[m].alpha=1,m++,m>74&&(m=0)},T=()=>{c.clearRect(0,0,o,s);for(var e=0,t=v.length;e<t;e++)v[e][4]=0;for(e=0,t=w.length;e<t;e++){var n=Math.floor(w[e].y/p)*(Math.floor(o/p)+1)+Math.floor(w[e].x/p);v[n]&&(v[n][4]=w[e].color,v[n][5]=w[e].alpha),w[e].alpha>0&&(w[e].alpha-=.008),w[e].alpha<0&&(w[e].alpha=0),w[e].x+=w[e].vx,w[e].y+=w[e].vy}for(e=0,t=v.length;e<t;e++)c.globalAlpha=1,c.fillStyle=re["purple-1"].value,c.fillRect(v[e][0],v[e][1],v[e][2],v[e][3]),c.globalAlpha=v[e][5],c.fillStyle=v[e][4],c.fillRect(v[e][0],v[e][1],v[e][2],v[e][3])};return I((()=>{n(8,g=window.devicePixelRatio),c=h.getContext("2d"),d={x:l.width-100,y:100},y()})),L((()=>{a?E():A()})),e.$$set=e=>{"step"in e&&n(6,u=e.step),"size"in e&&n(7,p=e.size)},e.$$.update=()=>{64&e.$$.dirty&&(a=void 0===u),512&e.$$.dirty&&n(3,r=l.width),512&e.$$.dirty&&n(2,i=l.height),264&e.$$.dirty&&n(0,o=r*g),260&e.$$.dirty&&n(1,s=i*g),3&e.$$.dirty&&y()},[o,s,i,r,h,e=>{d={x:e.clientX*g,y:e.clientY*g}},u,p,g,l,function(e){S[e?"unshift":"push"]((()=>{h=e,n(4,h)}))}]}class se extends o{constructor(e){super(),s(this,e,oe,ie,l,{step:6,size:7})}}var le={title:"Can Data Die?",subtitle:"Why the Internetâ€™s Oldest Images Lives On Without Its Subjectâ€™s Consent",url:"https://pudding.cool/2021/10/lenna",bylines:[{author:"Jennifer Ding",url:"https://pudding.cool/author/jennifer-ding/"},{author:"Jan Diehm",url:"https://pudding.cool/author/jan-diehm/"},{author:"Michelle McGhee",url:"https://pudding.cool/author/michelle-mcghee/"}],scrollProse:[{type:"text",value:"In 2021, sharing content is easier than ever. Our lingua franca is visual: memes, infographics, TikToks. Our references cross borders and platforms, shared and remixed a hundred different ways in minutes. Digital culture is collective by default and has us ðŸ˜‚, ðŸ˜­, and ðŸ˜ together all around the world."},{type:"text",value:"But as the Internet reaches its Dirty Thirties, what happens when pieces of digital culture that have been saved, screenshotted, and reposted for years need to retire? Letâ€™s dig into the story of one of these artifacts."},{type:"text",value:"The Lenna image may be relatively unknown in pop culture today, but in the engineering world, Lenna remains an icon. I first encountered the image in an undergrad class, then grad school, Silicon Valley, and all over the sites and software I use every day as a tech worker like NPM, OpenCV, Stack Overflow, and Github."},{type:"text",value:"This is Lenna."},{type:"text",value:"To understand where Lenna is today, youâ€™ve got to understand how she got here."},{type:"text",value:"Lenna was first published in Playboy in 1972. Soon after, engineers at USCâ€™s Image Processing lab looking for a suitable test image for their research sought inspiration from a Playboy centerfold in the lab. They deemed the Lenna image the right fit and scanned it into RGB existence."},{type:"text",value:"From here, the story of the image is roughly the story of the Internet. Lenna was one of the first inhabitants of ARPANet, the Internetâ€™s predecessor, and then the world wide web."},{type:"text",value:'While the imageâ€™s reach was limited to a few research papers in the 70s/80s, controversy propelled Lenna back to front pages in 1991. After the image was featured on the cover of an engineering journal, it caught the attention of Playboy which threatened a lawsuit over copyright infringement. Engineers who had grown attached to Lenna, fought back. Ultimately, the engineers prevailed, and as a Playboy VP reflected on the drama: "We decided we should exploit this, because it is a phenomenon."'},{type:"text",value:"After this viral moment, the Lenna image began to spread around the world, appearing in articles, tutorials, and research papers in 32 different languages."},{type:"text",value:"Its spread across digital geographies mirrored this growth, moving from mostly .org domains before 1990 to almost 100 different domains today, notably .com and .edu."},{type:"text",value:"Within the .edu world, the Lenna image continues to appear in research papers, homework questions, and class slides, ensuring that it is passed down to new generations of engineers."},{type:"text",value:"In 2019, Lena ForsÃ©n, the real human behind the image, worked with Creatable and Code Like a Girl to release Losing Lena, a documentary calling for the use of her image to retire. The campaign called on organizations to stop their spread of the image and use alternative images instead."},{type:"text",value:"This moment of industry-wide reckoning revealed how deeply the Lenna image has impacted women in the engineering community: my classmates, research advisors, and even the CEO of my company, whose daughter participated in the documentary, spoke up. We shared stories of our first encounters with the image in educational or professional settings, often the lone voices questioning the use of the image among male peers who had very different reactions."},{type:"text",value:"The film sparked increasing attention to the female engineer experience and a shift in attitudes towards the use of the image [Wired article, Google github repo open issue]."},{type:"text",value:"But despite all this, today the use of the Lenna image is alive and well. Whether it's due to institutional negligence or defiance, it seems that for now, the image is here to stay."},{type:"text",value:'This raises the question of whether or not digital data like the Lenna image can ever disappear? Once something is on the Internet, is it too late? What power can "data consent" hold, when it\'s so easy for anyone to save data to digital eternity? Surely targeted censorship or invasive data monitoring by governments or corporations arenâ€™t the solution either.'},{type:"text",value:"To me, the crux of the Lenna story is how little power we each have over our data, who collects it, and how it can be used/abused. While our social norms are changing towards personal data, particularly if it is gathered without consent, our digital norms seem harder to change. Advancements in algorithms and storage capabilities are only making data abuse easier."},{type:"text",value:"Whether the unintended outcome is revenge porn or targeted ads, surveillance or discriminatory model predictions, if we want a world where our data can retire when it's outlived its time, or when it's directly harming our lives, we must build the tools and systems that allow data subjects to have a say in what happens to their own data."},{type:"text",value:"Here are some possibilities, using the Lenna image as an example:"},{type:"text",value:"* Identify the image in a software build and exclude its use"},{type:"text",value:"* Hosting a standard pixelated or distorted version of the image, which can serve as an example or proxy for the actual image but will discourage use of the original"},{type:"text",value:"* Warning message that pops up whenever the image is uploaded to a storage site like Github or social media site like Twitter"},{type:"text",value:"* Swap out image uses in text books and class slides with alternative test images"},{type:"text",value:"* Email bot that messages professors hosting the image on their personal websites and suggests another"}],"post-prose":[],methods:[]};function he(e){let t,n;return t=new se({props:{step:e[0],size:e[1]}}),{c(){P(t.$$.fragment)},l(e){F(t.$$.fragment,e)},m(e,a){V(t,e,a),n=!0},p(e,n){const a={};1&n&&(a.step=e[0]),2&n&&(a.size=e[1]),t.$set(a)},i(e){n||(C(t.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),n=!1},d(e){j(t,e)}}}function ce(e){let t,n,a,r,i,o,s,l,c,f,y,x,M,I,L,D,S,P,F,V,C,O,j,q,R,N,G,B=e[4].toUpperCase()+"",H=e[5].toUpperCase()+"",U=e[6][0].author+"",_=e[6][1].author+"",K=e[6][2].author+"";return{c(){t=h("div"),n=h("h1"),a=z(B),r=v(),i=h("h2"),o=z(H),s=v(),l=h("div"),c=h("div"),f=z("By "),y=h("a"),x=z(U),I=v(),L=h("div"),D=z("with "),S=h("a"),P=z(_),V=z(" and\n        "),C=h("a"),O=z(K),this.h()},l(e){t=d(e,"DIV",{class:!0});var h=$(t);n=d(h,"H1",{class:!0});var p=$(n);a=W(p,B),p.forEach(u),r=w(h),i=d(h,"H2",{class:!0});var g=$(i);o=W(g,H),g.forEach(u),s=w(h),l=d(h,"DIV",{class:!0});var m=$(l);c=d(m,"DIV",{});var v=$(c);f=W(v,"By "),y=d(v,"A",{href:!0});var b=$(y);x=W(b,U),b.forEach(u),v.forEach(u),I=w(m),L=d(m,"DIV",{});var E=$(L);D=W(E,"with "),S=d(E,"A",{href:!0});var A=$(S);P=W(A,_),A.forEach(u),V=W(E," and\n        "),C=d(E,"A",{href:!0});var k=$(C);O=W(k,K),k.forEach(u),E.forEach(u),m.forEach(u),h.forEach(u),this.h()},h(){p(n,"class","svelte-cok6s7"),p(i,"class","svelte-cok6s7"),p(y,"href",M=e[6][0].url),p(S,"href",F=e[6][1].url),p(C,"href",j=e[6][2].url),p(l,"class","authors svelte-cok6s7"),p(t,"class","hero svelte-cok6s7")},m(h,d){b(h,t,d),g(t,n),g(n,a),g(t,r),g(t,i),g(i,o),g(t,s),g(t,l),g(l,c),g(c,f),g(c,y),g(y,x),g(l,I),g(l,L),g(L,D),g(L,S),g(S,P),g(L,V),g(L,C),g(C,O),R=!0,N||(G=E(t,"click",e[7]),N=!0)},p:m,i(e){R||(A((()=>{q||(q=k(t,T,{},!0)),q.run(1)})),R=!0)},o(e){q||(q=k(t,T,{},!1)),q.run(0),R=!1},d(e){e&&u(t),e&&q&&q.end(),N=!1,G()}}}function de(e){let t,n,a,r=e[2]&&he(e),i=e[3]&&ce(e);return{c(){r&&r.c(),t=v(),i&&i.c(),n=q()},l(e){r&&r.l(e),t=w(e),i&&i.l(e),n=q()},m(e,o){r&&r.m(e,o),b(e,t,o),i&&i.m(e,o),b(e,n,o),a=!0},p(e,[a]){e[2]?r?(r.p(e,a),4&a&&C(r,1)):(r=he(e),r.c(),C(r,1),r.m(t.parentNode,t)):r&&(R(),O(r,1,1,(()=>{r=null})),N()),e[3]?i?(i.p(e,a),8&a&&C(i,1)):(i=ce(e),i.c(),C(i,1),i.m(n.parentNode,n)):i&&(R(),O(i,1,1,(()=>{i=null})),N())},i(e){a||(C(r),C(i),a=!0)},o(e){O(r),O(i),a=!1},d(e){r&&r.d(e),e&&u(t),i&&i.d(e),e&&u(n)}}}function ue(e,t,n){let a,r,{step:i}=t,{pixelSize:o}=t;const{title:s,subtitle:l,bylines:h}=le;return e.$$set=e=>{"step"in e&&n(0,i=e.step),"pixelSize"in e&&n(1,o=e.pixelSize)},e.$$.update=()=>{1&e.$$.dirty&&n(3,a=void 0===i),1&e.$$.dirty&&n(2,r=void 0===i||i<3)},[i,o,r,a,s,l,h,()=>console.log("hero click")]}class pe extends o{constructor(e){super(),s(this,e,ue,de,l,{step:0,pixelSize:1})}}function ge(e){let t,n;const a=e[8].default,r=G(a,e,e[7],null);return{c(){t=h("div"),r&&r.c(),this.h()},l(e){t=d(e,"DIV",{style:!0});var n=$(t);r&&r.l(n),n.forEach(u),this.h()},h(){p(t,"style",e[0])},m(a,i){b(a,t,i),r&&r.m(t,null),e[9](t),n=!0},p(e,[i]){r&&r.p&&(!n||128&i)&&B(r,a,e,e[7],n?U(a,e[7],i,null):H(e[7]),null),(!n||1&i)&&p(t,"style",e[0])},i(e){n||(C(r,e),n=!0)},o(e){O(r,e),n=!1},d(n){n&&u(t),r&&r.d(n),e[9](null)}}}function me(e,t,n){let{$$slots:a={},$$scope:r}=t,{root:i=null}=t,{top:o=0}=t,{bottom:s=0}=t,{increments:l=100}=t,{value:h}=t,{styles:c}=t;const d=[],u=[];let p,g=[],m=[];const f=()=>{g.length&&g.forEach(y)},y=(e,t)=>{const a={root:i,rootMargin:`${o?-1*o:0}px 0px ${s?-1*s:0}px 0px`,threshold:u};m[t]&&m[t].disconnect();const r=new IntersectionObserver((e=>{e[0].isIntersecting;const a=e[0].intersectionRatio;d[t]=a,(()=>{let e=0,t=0;for(let n=0;n<d.length;n++)d[n]>e&&(e=d[n],t=n);n(2,h=e>0?t:void 0)})()}),a);r.observe(e),m[t]=r};return I((()=>{for(let e=0;e<l+1;e++)u.push(e/l);g=p.querySelectorAll(":scope > *"),f()})),e.$$set=e=>{"root"in e&&n(3,i=e.root),"top"in e&&n(4,o=e.top),"bottom"in e&&n(5,s=e.bottom),"increments"in e&&n(6,l=e.increments),"value"in e&&n(2,h=e.value),"styles"in e&&n(0,c=e.styles),"$$scope"in e&&n(7,r=e.$$scope)},e.$$.update=()=>{48&e.$$.dirty&&f()},[c,p,h,i,o,s,l,r,a,function(e){S[e?"unshift":"push"]((()=>{p=e,n(1,p)}))}]}class fe extends o{constructor(e){super(),s(this,e,me,ge,l,{root:3,top:4,bottom:5,increments:6,value:2,styles:0})}}function ye(e,t,n){const a=e.slice();return a[1]=t[n],a}function ve(e){let t,n,a,r,i=e[5][e[1]]+"";return{c(){t=h("div"),n=z(i),this.h()},l(e){t=d(e,"DIV",{class:!0});var a=$(t);n=W(a,i),a.forEach(u),this.h()},h(){p(t,"class","label svelte-1ldfb4d")},m(e,a){b(e,t,a),g(t,n),r=!0},p(t,n){e=t},i(e){r||(A((()=>{a||(a=k(t,T,{delay:xe},!0)),a.run(1)})),r=!0)},o(e){a||(a=k(t,T,{delay:xe},!1)),a.run(0),r=!1},d(e){e&&u(t),e&&a&&a.end()}}}function $e(e){let t,n,a,r,i,o,s,l,c=e[2]&&ve(e);return{c(){t=h("div"),c&&c.c(),n=v(),a=h("img"),o=v(),this.h()},l(e){t=d(e,"DIV",{class:!0,style:!0});var r=$(t);c&&c.l(r),n=w(r),a=d(r,"IMG",{src:!0,alt:!0,style:!0,class:!0}),o=w(r),r.forEach(u),this.h()},h(){_(a.src,r=`assets/img/${e[0]}/pic${e[1]+1}.png`)||p(a,"src",r),p(a,"alt",e[0]),p(a,"style",i=`height: ${e[3]}px; width: ${e[3]}px; opacity: ${e[2]||e[4]?1:0}; border-color: ${e[9][e[1]]}`),p(a,"class","svelte-1ldfb4d"),p(t,"class","img-group svelte-1ldfb4d"),p(t,"style",s=`top: ${e[2]?e[7][e[1]].y:e[6][e[1]].y}px; left: ${e[2]?e[7][e[1]].x:e[6][e[1]].x}px; width: ${be}px;`)},m(e,r){b(e,t,r),c&&c.m(t,null),g(t,n),g(t,a),g(t,o),l=!0},p(e,o){e[2]?c?(c.p(e,o),4&o&&C(c,1)):(c=ve(e),c.c(),C(c,1),c.m(t,n)):c&&(R(),O(c,1,1,(()=>{c=null})),N()),(!l||1&o&&!_(a.src,r=`assets/img/${e[0]}/pic${e[1]+1}.png`))&&p(a,"src",r),(!l||1&o)&&p(a,"alt",e[0]),(!l||28&o&&i!==(i=`height: ${e[3]}px; width: ${e[3]}px; opacity: ${e[2]||e[4]?1:0}; border-color: ${e[9][e[1]]}`))&&p(a,"style",i),(!l||4&o&&s!==(s=`top: ${e[2]?e[7][e[1]].y:e[6][e[1]].y}px; left: ${e[2]?e[7][e[1]].x:e[6][e[1]].x}px; width: ${be}px;`))&&p(t,"style",s)},i(e){l||(C(c),l=!0)},o(e){O(c),l=!1},d(e){e&&u(t),c&&c.d()}}}function we(e){let t,n,a=[...new Array(5).keys()],r=[];for(let o=0;o<a.length;o+=1)r[o]=$e(ye(e,a,o));const i=e=>O(r[e],1,1,(()=>{r[e]=null}));return{c(){t=h("div");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){t=d(e,"DIV",{class:!0});var n=$(t);for(let t=0;t<r.length;t+=1)r[t].l(n);n.forEach(u),this.h()},h(){p(t,"class","images svelte-1ldfb4d")},m(e,a){b(e,t,a);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[n]){if(765&n){let o;for(a=[...new Array(5).keys()],o=0;o<a.length;o+=1){const i=ye(e,a,o);r[o]?(r[o].p(i,n),C(r[o],1)):(r[o]=$e(i),r[o].c(),C(r[o],1),r[o].m(t,null))}for(R(),o=a.length;o<r.length;o+=1)i(o);N()}},i(e){if(!n){for(let e=0;e<a.length;e+=1)C(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)O(r[t]);n=!1},d(e){e&&u(t),K(r,e)}}}const xe=500,be=200;function Ee(e,t,n){let a,r,i,{key:o}=t,{enter:s}=t,{exit:l}=t,{i:h=null}=t;const c=(e=>"original-memes"===e?["Grumpy cat","These are all cakes","Disaster girl","Bernie's mittens","Oregon Trail"]:"five-lennas"===e?["Lenna 1","Lenna 2","Lenna 3","Lenna 4","Lenna 5"]:void 0)(o),d=(e=>{if("original-memes"===e)return[{x:300,y:200},{x:534,y:67},{x:199,y:600},{x:111,y:45},{x:56,y:230}]})(o),u=(e=>{if("original-memes"===e)return[{x:100,y:100},{x:600,y:50},{x:350,y:350},{x:20,y:600},{x:650,y:650}]})(o),p=X(0,{duration:2e3,easing:Y,delay:h?xe*h:xe});M(e,p,(e=>n(3,i=e)));const g=[re["green-2"].value,re["orange-1"].value,re.red.value,re["blue-1"].value,re["tan-1"].value];return e.$$set=e=>{"key"in e&&n(0,o=e.key),"enter"in e&&n(10,s=e.enter),"exit"in e&&n(11,l=e.exit),"i"in e&&n(1,h=e.i)},e.$$.update=()=>{1024&e.$$.dirty&&n(2,a=s),2056&e.$$.dirty&&n(4,r=l&&i>10),12&e.$$.dirty&&a&&0===i&&p.set(be),4&e.$$.dirty&&(a||p.set(0))},[o,h,a,i,r,c,d,u,p,g,s,l]}class Ae extends o{constructor(e){super(),s(this,e,Ee,we,l,{key:0,enter:10,exit:11,i:1})}}function ke(e){let t;return{c(){t=h("canvas"),this.h()},l(e){t=d(e,"CANVAS",{style:!0,width:!0,height:!0,class:!0}),$(t).forEach(u),this.h()},h(){x(t,"width",e[4]+"px"),x(t,"height",e[3]+"px"),p(t,"width",e[1]),p(t,"height",e[0]),p(t,"class","svelte-1n27mkq"),J(t,"visible",e[2])},m(n,a){b(n,t,a),e[11](t)},p(e,[n]){16&n&&x(t,"width",e[4]+"px"),8&n&&x(t,"height",e[3]+"px"),2&n&&p(t,"width",e[1]),1&n&&p(t,"height",e[0]),4&n&&J(t,"visible",e[2])},i:m,o:m,d(n){n&&u(t),e[11](null)}}}function Te(e,t,n){let a,r,o,s,l,h,c,d;M(e,ae,(e=>n(10,d=e)));let u,p,{step:g}=t,{pixels:m}=t,f=1,y=0,v=0;const $=()=>{const e=v/y;m.filter((e=>e.animate.length>0)).forEach((t=>{t.animate.forEach((n=>((e,t)=>{const{origin:n,target:a,ease:r}=e,i=d3.interpolateNumber(n,a);e.value=i(r?r(t):t)})(t[n],e)))})),p&&(p.clearRect(0,0,l,h),m.forEach((({r:e,g:t,b:n,a:a,x:r,y:i,w:o,h:s})=>{p.fillStyle=`rgb(${e.value}, ${t.value}, ${n.value}, ${a.value})`,p.fillRect(r.value+200,i.value+200,o.value,s.value)}))),v+=1,e<1&&window.requestAnimationFrame($)},w=()=>{p&&m&&(m.forEach((e=>{e.animate=["x","y","w","h","r","g","b","a"],e.a={origin:0,target:1,value:void 0},e.animate.filter((e=>"a"!==e)).forEach((t=>{e[t].target=e[t].origin}))})),y=100,v=0,$())};return I((async()=>{n(8,f=window.devicePixelRatio),p=u.getContext("2d"),m.forEach((e=>{e.imageX=e.x,e.imageY=e.y;const t={target:void 0,value:void 0};e.x=i({origin:e.imageX*c},t),e.y=i({origin:e.imageY*c},t),e.w=i({origin:c},t),e.h=i({origin:c},t),e.r=i({origin:e.r},t),e.g=i({origin:e.g},t),e.b=i({origin:e.b},t),e.a=i({origin:1},t),e.animate=[]})),w()})),e.$$set=e=>{"step"in e&&n(6,g=e.step),"pixels"in e&&n(7,m=e.pixels)},e.$$.update=()=>{64&e.$$.dirty&&n(2,a=3===g),128&e.$$.dirty&&n(9,r=Math.sqrt(m.length)),1024&e.$$.dirty&&n(4,o=d.width),1024&e.$$.dirty&&n(3,s=d.height),272&e.$$.dirty&&n(1,l=o*f),264&e.$$.dirty&&n(0,h=s*f),512&e.$$.dirty&&(c=Math.floor(500/r)),3&e.$$.dirty&&p&&m&&(m.forEach((e=>{e.animate=["x","y","w","h","r","g","b","a"],e.a={origin:1,target:1,value:void 0},e.animate.filter((e=>"a"!==e)).forEach((t=>{e[t].target=e[t].origin}))})),y=1,v=0,$()),4&e.$$.dirty&&a&&w()},[h,l,a,s,o,u,g,m,f,r,d,function(e){S[e?"unshift":"push"]((()=>{u=e,n(5,u)}))}]}class Me extends o{constructor(e){super(),s(this,e,Te,ke,l,{step:6,pixels:7})}}function Ie(e){return new Promise(((t,n)=>{const a=document.createElement("canvas"),r=a.getContext("2d");var i;(i=e,new Promise(((e,t)=>{const n=new Image;n.onload=()=>e(n),n.onerror=()=>t(`error loading ${i}`),n.src=i}))).then((e=>{a.width=e.width,a.height=e.height,r.drawImage(e,0,0,e.width,e.height);const{data:n,width:i}=r.getImageData(0,0,e.width,e.height),o=(({data:e,width:t})=>{const n=[];for(let a=0;a<e.length;a+=4){const r=Math.floor(a/4),i=r%t,o=Math.floor(r/t),s=e[a],l=e[a+1],h=e[a+2],c=e[a+3],d=`rgb(${s},${l},${h})`;n.push({i:r,x:i,y:o,r:s,g:l,b:h,a:c,rgb:d})}return n})({data:n,width:i});t(o)})).catch(n)}))}function Le(e,t,n){const a=e.slice();return a[4]=t[n],a[6]=n,a}function De(e){let t,n;return t=new Me({props:{step:e[0],pixels:e[1]}}),{c(){P(t.$$.fragment)},l(e){F(t.$$.fragment,e)},m(e,a){V(t,e,a),n=!0},p(e,n){const a={};1&n&&(a.step=e[0]),2&n&&(a.pixels=e[1]),t.$set(a)},i(e){n||(C(t.$$.fragment,e),n=!0)},o(e){O(t.$$.fragment,e),n=!1},d(e){j(t,e)}}}function Se(e){let t,n,a,r,i=e[4]+"";return{c(){t=h("div"),n=h("p"),a=z(i),r=v(),this.h()},l(e){t=d(e,"DIV",{class:!0});var o=$(t);n=d(o,"P",{});var s=$(n);a=W(s,i),s.forEach(u),r=w(o),o.forEach(u),this.h()},h(){p(t,"class","step svelte-21fe0q"),J(t,"active",e[0]===e[6])},m(e,i){b(e,t,i),g(t,n),g(n,a),g(t,r)},p(e,n){1&n&&J(t,"active",e[0]===e[6])},d(e){e&&u(t)}}}function Pe(e){let t,n=e[2],a=[];for(let r=0;r<n.length;r+=1)a[r]=Se(Le(e,n,r));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=q()},l(e){for(let t=0;t<a.length;t+=1)a[t].l(e);t=q()},m(e,n){for(let t=0;t<a.length;t+=1)a[t].m(e,n);b(e,t,n)},p(e,r){if(5&r){let i;for(n=e[2],i=0;i<n.length;i+=1){const o=Le(e,n,i);a[i]?a[i].p(o,r):(a[i]=Se(o),a[i].c(),a[i].m(t.parentNode,t))}for(;i<a.length;i+=1)a[i].d(1);a.length=n.length}},d(e){K(a,e),e&&u(t)}}}function Fe(e){let t,n,a,r,i,o,s,l,c,m;a=new pe({props:{step:e[0],pixelSize:Ve}}),i=new Ae({props:{enter:0===e[0],exit:3===e[0],key:"original-memes"}});let f=e[1]&&De(e);function y(t){e[3](t)}let x={styles:"display: flex; flex-direction: column; width: 100%;",$$slots:{default:[Pe]},$$scope:{ctx:e}};return void 0!==e[0]&&(x.value=e[0]),l=new fe({props:x}),S.push((()=>Q(l,"value",y))),{c(){t=h("div"),n=h("div"),P(a.$$.fragment),r=v(),P(i.$$.fragment),o=v(),f&&f.c(),s=v(),P(l.$$.fragment),this.h()},l(e){t=d(e,"DIV",{class:!0});var h=$(t);n=d(h,"DIV",{class:!0});var c=$(n);F(a.$$.fragment,c),r=w(c),F(i.$$.fragment,c),o=w(c),f&&f.l(c),c.forEach(u),s=w(h),F(l.$$.fragment,h),h.forEach(u),this.h()},h(){p(n,"class","sticky svelte-21fe0q"),p(t,"class","scroll-container svelte-21fe0q")},m(e,h){b(e,t,h),g(t,n),V(a,n,null),g(n,r),V(i,n,null),g(n,o),f&&f.m(n,null),g(t,s),V(l,t,null),m=!0},p(e,[t]){const r={};1&t&&(r.step=e[0]),a.$set(r);const o={};1&t&&(o.enter=0===e[0]),1&t&&(o.exit=3===e[0]),i.$set(o),e[1]?f?(f.p(e,t),2&t&&C(f,1)):(f=De(e),f.c(),C(f,1),f.m(n,null)):f&&(R(),O(f,1,1,(()=>{f=null})),N());const s={};129&t&&(s.$$scope={dirty:t,ctx:e}),!c&&1&t&&(c=!0,s.value=e[0],Z((()=>c=!1))),l.$set(s)},i(e){m||(C(a.$$.fragment,e),C(i.$$.fragment,e),C(f),C(l.$$.fragment,e),m=!0)},o(e){O(a.$$.fragment,e),O(i.$$.fragment,e),O(f),O(l.$$.fragment,e),m=!1},d(e){e&&u(t),j(a),j(i),f&&f.d(),j(l)}}}const Ve=20;function Ce(e,t,n){let a,r;const i=le.scrollProse.map((e=>e.value));return I((async()=>{n(1,r=await Ie("assets/img/lenna-84.png"))})),e.$$.update=()=>{1&e.$$.dirty&&console.log({step:a})},[a,r,i,function(e){a=e,n(0,a)}]}class Oe extends o{constructor(e){super(),s(this,e,Ce,Fe,l,{})}}function je(e){let t,n,a,r;return t=new ne({}),a=new Oe({}),{c(){P(t.$$.fragment),n=v(),P(a.$$.fragment)},l(e){F(t.$$.fragment,e),n=w(e),F(a.$$.fragment,e)},m(e,i){V(t,e,i),b(e,n,i),V(a,e,i),r=!0},p:m,i(e){r||(C(t.$$.fragment,e),C(a.$$.fragment,e),r=!0)},o(e){O(t.$$.fragment,e),O(a.$$.fragment,e),r=!1},d(e){j(t,e),e&&u(n),j(a,e)}}}const ze=!0;export default class extends o{constructor(e){super(),s(this,e,null,je,l,{})}}export{ze as prerender};
